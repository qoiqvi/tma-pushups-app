# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Telegram –±–æ—Ç–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ngrok
```bash
# macOS
brew install ngrok

# –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å —Å https://ngrok.com/download
```

#### –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run dev

# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å ngrok
ngrok http 3000
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook
curl -X POST "http://localhost:3000/api/bot/setup" \
  -H "Authorization: Bearer CronJobSecretKey456$%^" \
  -H "Content-Type: application/json"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å webhook
curl "http://localhost:3000/api/bot/setup"
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥

–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram: [@pushups_tracker_bot](https://t.me/pushups_tracker_bot)

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∑–∞–ø—É—Å–∫
- `/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- `/help` - –°–ø—Ä–∞–≤–∫–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –í—ã–∑–≤–∞—Ç—å API –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤—Ä—É—á–Ω—É—é
curl -X POST "http://localhost:3000/api/bot/reminders" \
  -H "Authorization: Bearer CronJobSecretKey456$%^" \
  -H "Content-Type: application/json"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏
1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ `reminder_settings`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `reminder_time` –Ω–∞ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è + 1 –º–∏–Ω—É—Ç–∞
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# Next.js –ª–æ–≥–∏
npm run dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook info
curl "http://localhost:3000/api/bot/setup"
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ngrok –∑–∞–ø—É—â–µ–Ω
2. –û–±–Ω–æ–≤–∏—Ç–µ `NEXT_PUBLIC_APP_URL` –≤ `.env.local`
3. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook

#### –ö–æ–º–∞–Ω–¥—ã –Ω–µ –æ—Ç–≤–µ—á–∞—é—Ç
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ Next.js
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TELEGRAM_BOT_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase

#### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –ë–î
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Ä–µ–º—è –∏ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `last_sent_at` - –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–∏ —É–∂–µ —Å–µ–≥–æ–¥–Ω—è

## üìù –¢–µ—Å—Ç–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] Webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/start` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/settings` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/stats` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- [ ] –ö–Ω–æ–ø–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç Web App
- [ ] API –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
- [ ] –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è

## üöÄ Production –¥–µ–ø–ª–æ–π

### 1. –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Vercel
```
TELEGRAM_BOT_TOKEN=...
TELEGRAM_WEBHOOK_SECRET=...
CRON_SECRET=...
NEXT_PUBLIC_APP_URL=https://your-app.vercel.app
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å production webhook
```bash
# –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
curl -X POST "https://your-app.vercel.app/api/bot/setup" \
  -H "Authorization: Bearer YOUR_CRON_SECRET" \
  -H "Content-Type: application/json"
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Secrets
–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: Settings ‚Üí Secrets ‚Üí Actions
- `APP_URL`: https://your-app.vercel.app
- `CRON_SECRET`: —Ç–æ—Ç –∂–µ, —á—Ç–æ –≤ Vercel

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Telegram Bot API
```bash
# –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ
curl "https://api.telegram.org/bot<TOKEN>/getMe"

# –ü–æ–ª—É—á–∏—Ç—å webhook info
curl "https://api.telegram.org/bot<TOKEN>/getWebhookInfo"

# –£–¥–∞–ª–∏—Ç—å webhook
curl "https://api.telegram.org/bot<TOKEN>/deleteWebhook"
```

### Supabase –ø—Ä–æ–≤–µ—Ä–∫–∏
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
SELECT * FROM reminder_settings WHERE enabled = true;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users ORDER BY created_at DESC LIMIT 10;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
SELECT * FROM user_stats;
```